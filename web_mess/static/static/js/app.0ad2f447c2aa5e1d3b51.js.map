{"version":3,"sources":["webpack:///./src/components/ui/Header/index.vue?935c","webpack:///./src/components/ui/Header/index.vue","webpack:///./src/components/ui/Modal/index.vue?c3ef","webpack:///./src/components/ui/Modal/index.vue","webpack:///src/App.vue","webpack:///src/components/ui/Modal/index.vue","webpack:///./src/App.vue?a3ac","webpack:///./src/App.vue","webpack:///src/components/ui/Sidebar/index.vue","webpack:///./src/components/ui/Sidebar/index.vue?fd30","webpack:///./src/components/ui/Sidebar/index.vue","webpack:///src/components/router/dialog/index.vue","webpack:///./src/components/router/dialog/index.vue?973c","webpack:///./src/components/router/dialog/index.vue","webpack:///src/components/router/dialogs/index.vue","webpack:///./src/components/router/dialogs/index.vue?94fb","webpack:///./src/components/router/dialogs/index.vue","webpack:///src/components/router/login/index.vue","webpack:///./src/components/router/login/index.vue?e232","webpack:///./src/components/router/login/index.vue","webpack:///./src/components/router/register/index.vue?5375","webpack:///./src/components/router/register/index.vue","webpack:///./src/router/index.js","webpack:///./src/store/mutations/index.js","webpack:///./src/store/index.js","webpack:///./src/store/states/index.js","webpack:///./src/store/actions/index.js","webpack:///./src/loader/index.js","webpack:///./src/main.js"],"names":["ui_Header","render","_h","this","$createElement","_c","_self","isLogin","attrs","id","_m","_e","staticRenderFns","staticClass","_v","ui_Modal","UiHeader","__webpack_require__","normalizeComponent","ssrContext","UiModal","Modal_normalizeComponent","_this","token","then","body","data","puddles","dialog","username","profile","message","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","App","Sidebar","messages","reverse","Date","timestamp","getDay","ui_Sidebar","_vm","$store","state","dialogs","length","_l","puddle","index","class","active","on","click","$event","openDialog","_s","getDateTime","last_message","src","avatar","display_name","text","type","name","placeholder","components_ui_Sidebar","Sidebar_normalizeComponent","router_dialog","UiSidebar","components_router_dialog","directives","rawName","my","from","auth","getAvatar","src_components_router_dialog","dialog_normalizeComponent","router_dialogs","components_router_dialogs","dialogs_normalizeComponent","login","form","response","catch","err","router_login","SignIn","value","expression","domProps","input","target","composing","$set","components_router_login","login_normalizeComponent","router_register","components_router_register","register_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","component","redirect","mutations","setToken","extends_default","setUsername","addDialog","concat","toConsumableArray_default","setDialog","addUser","console","log","users","vuex_esm","store","Store","server","actions","setAuth","context","commit","Loader","config","arguments","undefined","classCallCheck_default","db","loadAuth","get","dispatch","push","error","productionTip","devtools","src_default","a","connect","loader","run","beforeEach","to","next","Object","vuex_router_sync","vue_chat_scroll_default","el","components","template"],"mappings":"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","file":"static/js/app.0ad2f447c2aa5e1d3b51.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (this.isLogin())?_c('div',{attrs:{\"id\":\"header\"}},[_vm._m(0)]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"head\"},[_c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"icon ion-navicon\"}),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"Messanger\")])]),_vm._v(\" \"),_c('div',{staticClass:\"wrapper\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-46bea2ad\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ui/Header/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-46bea2ad\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-46bea2ad\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ui/Header/index.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\"div\")}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-23e784d8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ui/Modal/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-23e784d8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-23e784d8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-23e784d8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ui/Modal/index.vue\n// module id = null\n// module chunks = ","<template>\n\t<div>\n\t\t<ui-header/>\n\t\t<router-view/>\n\t\t<ui-modal/>\n\t</div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nimport '@/assets/css/main.css'\nimport '@/assets/ionicons/css/ionicons.min.css'\n\nimport UiHeader from '@/components/ui/Header'\nimport UiModal from '@/components/ui/Modal'\n\nexport default {\n\tname: 'App',\n\tcomponents: {\n\t\tUiHeader,\n\t\tUiModal,\n\t},\n\twatch: {\n\t\t'$route' (to, from) {\n\t\t\tif(to.name == 'dialogs') {\n\t\t\t\taxios.get(`${this.$store.state.server}/api/getPuddles`, { params: { token: this.$store.state.auth.token } })\n\t\t\t\t\t.then(body => {\n\t\t\t\t\t\tlet data = body.data\n\t\t\t\t\t\tconsole.log(data)\n\t\t\t\t\t\tif(!data.ok) {\n\t\t\t\t\t\t\tconsole.error(data.message)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet puddles = data.puddles\n\t\t\t\t\t\t\tpuddles.map(dialog => {\n\t\t\t\t\t\t\t\tthis.$store.commit('addDialog', dialog)\n\n\t\t\t\t\t\t\t\tdialog.members.map(username => {\n\t\t\t\t\t\t\t\t\taxios.get(`${this.$store.state.server}/api/getProfile`, { params: { token: this.$store.state.auth.token, username } })\n\t\t\t\t\t\t\t\t\t\t.then(body => {\n\t\t\t\t\t\t\t\t\t\t\tlet data = body.data\n\t\t\t\t\t\t\t\t\t\t\tif(data.ok) {\n\t\t\t\t\t\t\t\t\t\t\t\tthis.$store.commit('addUser', data.profile)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\r\n\t<!-- <div id=\"modal\">\r\n\t\t<div class=\"modals\">\r\n\t\t\t<div class=\"modal profile\">\r\n\t\t\t\t<div class=\"header\">\r\n\t\t\t\t\t<div class=\"close\">Close</div>\r\n\t\t\t\t\t<div class=\"title\">Contact info</div>\r\n\t\t\t\t\t<div class=\"profile\">\r\n\t\t\t\t\t\t<a class=\"image\">\r\n\t\t\t\t\t\t\t<img src=\"http://img1.ak.crunchyroll.com/i/spire3/3614810e9ada5235038e8deb4adc264c1447729591_large.jpg\">\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<div class=\"info\">\r\n\t\t\t\t\t\t\t<div class=\"username\">Username</div>\r\n\t\t\t\t\t\t\t<div class=\"status online\">Online</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t<div class=\"action send_message\">\r\n\t\t\t\t\t\t<i class=\"ion-chatbox\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"info\">\r\n\t\t\t\t\t<div class=\"item\">\r\n\t\t\t\t\t\t<div class=\"icon\">\r\n\t\t\t\t\t\t\t<i class=\"ion-person\"></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"data\">\r\n\t\t\t\t\t\t\t<div class=\"text\">@username</div>\r\n\t\t\t\t\t\t\t<div class=\"name\">Username</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"item\">\r\n\t\t\t\t\t\t<div class=\"icon\">\r\n\t\t\t\t\t\t\t<i class=\"ion-navicon\"></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"data\">\r\n\t\t\t\t\t\t\t<div class=\"menu\">\r\n\t\t\t\t\t\t\t\t<a class=\"item\" style=\"color: red\">Block user</a>\r\n\t\t\t\t\t\t\t\t<a class=\"item\">Cleat history</a>\r\n\t\t\t\t\t\t\t\t<a class=\"item\">Delete conversation</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div> -->\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: 'Modal',\r\n\t\tdata: () => {\r\n\t\t\treturn {}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ui/Modal/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ui-header'),_vm._v(\" \"),_c('router-view'),_vm._v(\" \"),_c('ui-modal')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4fdec156\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4fdec156\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4fdec156\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n\t<div class=\"sidebar\">\r\n\t\t<div class=\"search\">\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<input type=\"text\" name=\"q\" placeholder=\"Search\">\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"dialogs\" v-if=\"$store.state.dialogs.length > 0\">\r\n\t\t\t<div\r\n\t\t\t\tclass=\"dialog\" :class=\"{ active: puddle.id == $store.state.dialog.id }\"\r\n\t\t\t\t@click=\"openDialog(puddle.id)\"\r\n\t\t\t\tv-for=\"(puddle, index) in $store.state.dialogs\">\r\n\t\t\t\t<div class=\"time\">{{ getDateTime(puddle.last_message.timestamp) }}</div>\r\n\t\t\t\t<div class=\"image\">\r\n\t\t\t\t\t<img :src=\"puddle.avatar ? `${$store.state.server}/file/${puddle.avatar}` : '/static/img/avatar.png'\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"data\">\r\n\t\t\t\t\t<div class=\"username\">{{ puddle.display_name }}</div>\r\n\t\t\t\t\t<div class=\"message\">{{ puddle.last_message.text }}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport axios from 'axios'\r\n\texport default {\r\n\t\tname: 'Sidebar',\r\n\t\tdata: () => ({\r\n\r\n\t\t}),\r\n\r\n\t\tmethods: {\r\n\t\t\topenDialog(id) {\r\n\t\t\t\tthis.$store.commit('setDialog', { id, messages: false })\r\n\t\t\t\tthis.$router.push({ name: 'dialog', params: { id } })\r\n\r\n\t\t\t\taxios.get(`${this.$store.state.server}/api/getPuddleMessages`, {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\ttoken: this.$store.state.auth.token,\r\n\t\t\t\t\t\tpuddle_id: id\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(body => {\r\n\t\t\t\t\t\tif(body.data.ok) {\r\n\t\t\t\t\t\t\treturn body.data.messages\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(messages => {\r\n\t\t\t\t\t\tconsole.log(messages)\r\n\t\t\t\t\t\tmessages.reverse()\r\n\t\t\t\t\t\tthis.$store.commit('setDialog', { id, messages })\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tgetDateTime(timestamp) {\r\n\t\t\t\tlet nowDate = new Date()\r\n\t\t\t\tlet messageDate = new Date(timestamp)\r\n\t\t\t\treturn `${messageDate.getFullYear()}.${messageDate.getMonth()}.${messageDate.getDay()}`\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ui/Sidebar/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sidebar\"},[_vm._m(0),_vm._v(\" \"),(_vm.$store.state.dialogs.length > 0)?_c('div',{staticClass:\"dialogs\"},_vm._l((_vm.$store.state.dialogs),function(puddle,index){return _c('div',{staticClass:\"dialog\",class:{ active: puddle.id == _vm.$store.state.dialog.id },on:{\"click\":function($event){_vm.openDialog(puddle.id)}}},[_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.getDateTime(puddle.last_message.timestamp)))]),_vm._v(\" \"),_c('div',{staticClass:\"image\"},[_c('img',{attrs:{\"src\":puddle.avatar ? ((_vm.$store.state.server) + \"/file/\" + (puddle.avatar)) : '/static/img/avatar.png'}})]),_vm._v(\" \"),_c('div',{staticClass:\"data\"},[_c('div',{staticClass:\"username\"},[_vm._v(_vm._s(puddle.display_name))]),_vm._v(\" \"),_c('div',{staticClass:\"message\"},[_vm._v(_vm._s(puddle.last_message.text))])])])})):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"form\"},[_c('input',{attrs:{\"type\":\"text\",\"name\":\"q\",\"placeholder\":\"Search\"}})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-208f0362\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ui/Sidebar/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-208f0362\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-208f0362\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-208f0362\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ui/Sidebar/index.vue\n// module id = null\n// module chunks = ","<template>\r\n\t<div id=\"main\">\r\n\t\t<ui-sidebar/>\r\n\t\t<div class=\"content\">\r\n\t\t\t<div class=\"messages\" v-chat-scroll>\r\n\t\t\t\t<div\r\n\t\t\t\t\tv-for=\"(message, index) in $store.state.dialog.messages\"\r\n\t\t\t\t\tclass=\"message\" :class=\"{ my: message.from == $store.state.auth.username ? true : false }\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<div class=\"data\">\r\n\t\t\t\t\t\t<div class=\"image\">\r\n\t\t\t\t\t\t\t<img :src=\"getAvatar(message.from)\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"time\">{{ getDateTime(message.timestamp) }}</div>\r\n\t\t\t\t\t\t<div class=\"data\">\r\n\t\t\t\t\t\t\t<div class=\"username\">{{ message.from }}</div>\r\n\t\t\t\t\t\t\t<div class=\"message\">\r\n\t\t\t\t\t\t\t\t<div class=\"text\">{{ message.text }}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"bottom_form\">\r\n\t\t\t\t<div class=\"messages\"></div>\r\n\t\t\t\t<div class=\"send_form\">\r\n\t\t\t\t\t<div class=\"avatar my\">\r\n\t\t\t\t\t\t<img :src=\"getAvatar($store.state.auth.username)\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"avatar other\">\r\n\t\t\t\t\t\t<img src=\"http://img1.ak.crunchyroll.com/i/spire3/3614810e9ada5235038e8deb4adc264c1447729591_large.jpg\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form\">\r\n\t\t\t\t\t\t<textarea placeholder=\"Write a message...\"></textarea>\r\n\t\t\t\t\t\t<div class=\"line\">\r\n\t\t\t\t\t\t\t<div class=\"left\">\r\n\t\t\t\t\t\t\t\t<div class=\"icon ion-document\"></div>\r\n\t\t\t\t\t\t\t\t<div class=\"icon ion-image\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"send\">SEND <i class=\"ion-android-send\"></i> </div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport UiSidebar from '@/components/ui/Sidebar'\r\n\r\nexport default {\r\n\tname: 'dialog',\r\n\tcomponents: {\r\n\t\tUiSidebar\r\n\t},\r\n\r\n\t\tmethods: {\r\n\t\t\tgetDateTime(timestamp) {\r\n\t\t\t\tlet nowDate = new Date()\r\n\t\t\t\tlet messageDate = new Date(timestamp)\r\n\t\t\t\treturn `${messageDate.getFullYear()}.${messageDate.getMonth()}.${messageDate.getDay()}`\r\n\t\t\t},\r\n\r\n\t\t\tgetAvatar(username) {\r\n\t\t\t\tif(this.$store.state.users[username] && this.$store.state.users[username].avatar) {\r\n\t\t\t\t\treturn `${this.$store.state.server}/file/${this.$store.state.users[username].avatar}`\r\n\t\t\t\t}\r\n\t\t\t\treturn '/static/img/avatar.png'\r\n\t\t\t},\r\n\t\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/router/dialog/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"main\"}},[_c('ui-sidebar'),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{directives:[{name:\"chat-scroll\",rawName:\"v-chat-scroll\"}],staticClass:\"messages\"},_vm._l((_vm.$store.state.dialog.messages),function(message,index){return _c('div',{staticClass:\"message\",class:{ my: message.from == _vm.$store.state.auth.username ? true : false }},[_c('div',{staticClass:\"data\"},[_c('div',{staticClass:\"image\"},[_c('img',{attrs:{\"src\":_vm.getAvatar(message.from)}})]),_vm._v(\" \"),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.getDateTime(message.timestamp)))]),_vm._v(\" \"),_c('div',{staticClass:\"data\"},[_c('div',{staticClass:\"username\"},[_vm._v(_vm._s(message.from))]),_vm._v(\" \"),_c('div',{staticClass:\"message\"},[_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(message.text))])])])])])})),_vm._v(\" \"),_c('div',{staticClass:\"bottom_form\"},[_c('div',{staticClass:\"messages\"}),_vm._v(\" \"),_c('div',{staticClass:\"send_form\"},[_c('div',{staticClass:\"avatar my\"},[_c('img',{attrs:{\"src\":_vm.getAvatar(_vm.$store.state.auth.username)}})]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_vm._m(1)])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"avatar other\"},[_c('img',{attrs:{\"src\":\"http://img1.ak.crunchyroll.com/i/spire3/3614810e9ada5235038e8deb4adc264c1447729591_large.jpg\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form\"},[_c('textarea',{attrs:{\"placeholder\":\"Write a message...\"}}),_vm._v(\" \"),_c('div',{staticClass:\"line\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"icon ion-document\"}),_vm._v(\" \"),_c('div',{staticClass:\"icon ion-image\"})]),_vm._v(\" \"),_c('div',{staticClass:\"send\"},[_vm._v(\"SEND \"),_c('i',{staticClass:\"ion-android-send\"})])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0d830073\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/router/dialog/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0d830073\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0d830073\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/router/dialog/index.vue\n// module id = null\n// module chunks = ","<template>\r\n\t<div id=\"main\">\r\n\t\t<ui-sidebar/>\r\n\t\t<div class=\"content\">\r\n\t\t\t<p class=\"content-text\">Please select puddle in side menu</p>\r\n\t\t</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport UiSidebar from '@/components/ui/Sidebar'\r\n\r\nexport default {\r\n\tname: 'dialog',\r\n\tcomponents: {\r\n\t\tUiSidebar\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\t.content-text {\r\n\t\tpadding-top: 50%;\r\n\t\ttext-align: center;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/router/dialogs/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"main\"}},[_c('ui-sidebar'),_vm._v(\" \"),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('p',{staticClass:\"content-text\"},[_vm._v(\"Please select puddle in side menu\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-644c529f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/router/dialogs/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-644c529f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-644c529f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-644c529f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/router/dialogs/index.vue\n// module id = null\n// module chunks = ","<template>\r\n\t<div id=\"auth\">\r\n\t\t<div class=\"header\"></div>\r\n\r\n\t\t<div class=\"content\">\r\n\t\t\t<div class=\"menu\">\r\n\t\t\t\t<div class=\"logo\">Mess</div>\r\n\t\t\t\t<div class=\"button\" @click=\"this.SignIn\">Next <i class=\"ion-chevron-right\"></i></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"block login\">\r\n\t\t\t\t<div class=\"title\">Sign in</div>\r\n\t\t\t\t<div class=\"desc\">Please enter you're username and password</div>\r\n\t\t\t\t<div class=\"form\">\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"Username\" v-model=\"form.username\">\r\n\t\t\t\t\t<input type=\"password\" placeholder=\"Password\" v-model=\"form.password\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<p class=\"message\" v-if=\"message\">{{ message }}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport axios from 'axios'\r\n\r\n\texport default {\r\n\t\tdata: () => ({\r\n\t\t\tform: {\r\n\t\t\t\tusername: 'admin',\r\n\t\t\t\tpassword: '123'\r\n\t\t\t},\r\n\t\t\tmessage: null\r\n\t\t}),\r\n\r\n\t\tmethods: {\r\n\t\t\tSignIn() {\r\n\t\t\t\taxios.post(`${this.$store.state.server}/api/generateToken`, this.form)\r\n\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\tconsole.log(response.data)\r\n\t\t\t\t\t\tif (!response.data.ok) {\r\n\t\t\t\t\t\t\tthis.message = response.data.message\r\n\t\t\t\t\t\t\treturn false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.message = null\r\n\t\t\t\t\t\treturn response.data\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(data => {\r\n\t\t\t\t\t\t\tif(!data) return false\r\n\r\n\t\t\t\t\t\t\tthis.$db.put({\r\n\t\t\t\t\t\t\t\t_id: 'auth',\r\n\t\t\t\t\t\t\t\ttoken: data.token,\r\n\t\t\t\t\t\t\t\tusername: data.username\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\t\tthis.$store.dispatch('setAuth', data)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\t\t\tthis.$router.push({ name: 'dialogs' })\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\t\t\tthis.message = err\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.message {\r\n\t\ttext-align: center;\r\n\t\tcolor: red;\r\n\t}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/router/login/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"auth\"}},[_c('div',{staticClass:\"header\"}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"logo\"},[_vm._v(\"Mess\")]),_vm._v(\" \"),_c('div',{staticClass:\"button\",on:{\"click\":this.SignIn}},[_vm._v(\"Next \"),_c('i',{staticClass:\"ion-chevron-right\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"block login\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Sign in\")]),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_vm._v(\"Please enter you're username and password\")]),_vm._v(\" \"),_c('div',{staticClass:\"form\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.username),expression:\"form.username\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Username\"},domProps:{\"value\":(_vm.form.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"username\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.password),expression:\"form.password\"}],attrs:{\"type\":\"password\",\"placeholder\":\"Password\"},domProps:{\"value\":(_vm.form.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"password\", $event.target.value)}}})]),_vm._v(\" \"),(_vm.message)?_c('p',{staticClass:\"message\"},[_vm._v(_vm._s(_vm.message))]):_vm._e()])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e7117df\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/router/login/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e7117df\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e7117df\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2e7117df\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/router/login/index.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"auth\"}},[_c('div',{staticClass:\"header\"}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"logo\"},[_vm._v(\"Mess\")]),_vm._v(\" \"),_c('div',{staticClass:\"button\"},[_vm._v(\"Next \"),_c('i',{staticClass:\"ion-chevron-right\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"block login\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Sign in\")]),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_vm._v(\"Please enter you're email and password\")]),_vm._v(\" \"),_c('div',{staticClass:\"form\"},[_c('input',{attrs:{\"type\":\"email\",\"placeholder\":\"you.email@mess.com\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"text\",\"placeholder\":\"you're login\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"password\",\"placeholder\":\"you're password\"}})])])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3d7a8180\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/router/register/index.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3d7a8180\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/router/register/index.vue\n// module id = null\n// module chunks = ","import Vue \t\t\tfrom 'vue'\r\nimport VueRouter \tfrom 'vue-router'\r\n\r\nimport Dialog \t\tfrom '@/components/router/dialog'\r\nimport Dialogs \tfrom '@/components/router/dialogs'\r\nimport Login \t\tfrom '@/components/router/login'\r\nimport Register \tfrom '@/components/router/register'\r\n\r\nVue.use(VueRouter)\r\n\r\nexport default new VueRouter({\r\n\troutes: [\r\n\t\t{ path: '/login', \t\tcomponent: Login, \t\tname: 'login' },\r\n\t\t{ path: '/register', \tcomponent: Register, \tname: 'register' },\r\n\t\t{ path: '/', \t\t\t\tcomponent: Dialogs, \t\tname: 'dialogs' },\r\n\t\t{ path: '/im/:id', \t\tcomponent: Dialog, \t\tname: 'dialog' },\r\n\t\t{ path: '*', \t\t\t\tredirect: '/login' },\r\n\t]\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","export default {\r\n\tsetToken(state, token) {\r\n\t\tstate.auth = { ...state.auth, token }\r\n\t},\r\n\r\n\tsetUsername(state, username) {\r\n\t\tstate.auth = { ...state.auth, username }\r\n\t},\r\n\r\n\taddDialog(state, dialog) {\r\n\t\tstate.dialogs = [ ...state.dialogs, dialog]\r\n\t},\r\n\r\n\tsetDialog(state, dialog) {\r\n\t\tstate.dialog = { ...state.dialog, ...dialog }\r\n\t},\r\n\r\n\taddUser(state, profile) {\r\n\t\tconsole.log(profile)\r\n\t\tstate.users[profile.username] = profile\r\n\t\tstate.users = { ...state.users }\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations/index.js","import Vue \t\t\tfrom 'vue'\r\nimport Vuex \t\tfrom 'vuex'\r\n\r\nimport state\t\tfrom '@/store/states'\r\nimport mutations\tfrom '@/store/mutations'\r\nimport actions\t\tfrom '@/store/actions'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n\tstate,\r\n\tmutations,\r\n\tactions\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","export default {\r\n\tserver: 'http://127.0.0.1:8000',\r\n\tauth: {\r\n\t\ttoken: false,\r\n\t\tusername: false\r\n\t},\r\n\r\n\tdialogs: [],\r\n\r\n\tdialog: {\r\n\t\tmessages: false\r\n\t},\r\n\r\n\tusers: {}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/states/index.js","export default {\r\n\tsetAuth(context, data) {\r\n\t\tcontext.commit('setToken', data.token)\r\n\t\tcontext.commit('setUsername', data.username)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions/index.js","export default class Loader {\r\n\tconstructor(config = {}) {\r\n\t\tthis.db = config.db\r\n\t\tthis.store = config.store\r\n\t\tthis.router = config.router\r\n\t}\r\n\r\n\trun() {\r\n\t\tthis.loadAuth()\r\n\t}\r\n\r\n\tloadAuth() {\r\n\t\tthis.db.get('auth')\r\n\t\t\t.then(data => {\r\n\t\t\t\tif (data.token && data.username) {\r\n\t\t\t\t\tthis.store.dispatch('setAuth', {\r\n\t\t\t\t\t\ttoken: data.token,\r\n\t\t\t\t\t\tusername: data.username,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.router.push('/')\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.error(err)\r\n\t\t\t})\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/loader/index.js","import Vue \t\t\t\tfrom 'vue'\n\nimport VuePouchDB \tfrom 'vue-pouchdb'\nimport { sync } \t\tfrom 'vuex-router-sync'\nimport VueChatScroll from 'vue-chat-scroll'\n\nimport App \t\t\t\tfrom '@/App'\nimport router \t\t\tfrom '@/router'\nimport store \t\t\tfrom '@/store'\nimport Loader \t\t\tfrom '@/loader'\n\nVue.config.productionTip = false\nVue.config.devtools = true\n\nVuePouchDB.connect({ name: 'mess-web' })\n\nconsole.log(VuePouchDB)\n\n\nlet loader = new Loader({\n\tdb: VuePouchDB.db,\n\tstore,\n\trouter\n})\nloader.run()\n\nrouter.beforeEach((to, from, next) => {\n\tif(!store.state.auth.token) {\n\t\tif(to.name != 'login' && to.name != 'register') next('/login')\n\t} else {\n\t\tif(to.name == 'login' && to.name == 'register') next('/')\n\t}\n\tnext()\n})\n\nsync(store, router)\n\nVue.use(VueChatScroll)\nVue.use(VuePouchDB)\n\nnew Vue({\n\tstore,\n\trouter,\n\tel: '#app',\n\tcomponents: { App },\n\ttemplate: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}